{"ast":null,"code":"// import \"./Registration.css\";\n\n// import React from \"react\";\n// import { Link, useNavigate } from \"react-router-dom\";\n// import { useState } from \"react\";\n// import { useEffect } from \"react\";\n\n// const Login = () => {\n//   const registrationData = JSON.parse(localStorage.getItem(\"registration\"));\n\n//   const navigate = useNavigate();\n//   const [loginData, setRegData] = useState({\n//     email: \"\",\n//     password: \"\",\n//   });\n\n//   const [error, setError] = useState({});\n//   const [issubmit, setIsSubmit] = useState(false);\n\n//   const hasChange = (e) => {\n//     const { name, value } = e.target;\n\n//     setRegData((prev) => {\n//       return { ...prev, [name]: value };\n//     });\n//     console.log(loginData);\n\n//     setError(validate(loginData));\n//   };\n\n//   const validate = (loginData) => {\n//     const error = {};\n//     console.log(loginData);\n//     const regex = /^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$/;\n\n//     if (!regex.test(loginData[\"email\"])) {\n//       error.email = \"email is required\";\n//     }\n\n//     if (loginData[\"password\"].length <= 4) {\n//       error.password = \"password is required\";\n//     } else {\n//       for (const key in registrationData) {\n//         if (\n//           registrationData[key].email !== loginData.email ||\n//           registrationData[key].password !== loginData.password\n//         ) {\n//           error.login = \"email & password is not correct\";\n//           break;\n//         }\n//       }\n//     }\n//     return error;\n//   };\n\n//   const submitHandler = (e) => {\n//     e.preventDefault();\n//     hasChange(e);\n//     console.log(loginData);\n//     setIsSubmit(true);\n\n//   };\n\n//   useEffect(() => {\n//     if (Object.keys(error).length === 0) {\n//       console.log(\"keyyyyyyyyyyyyyyy\")\n//       let flag = false;\n//       for (const key in registrationData) {\n//         if (\n//           registrationData[key].email === loginData.email ||\n//           registrationData[key].password === loginData.password\n//         ) {\n//           flag = true;\n//           break;\n//         }\n//       }\n\n//       if (flag === true) {\n//         let result = \"\";\n//         const characters =\n//           \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n//         const charactersLength = characters.length;\n//         let counter = 0;\n//         while (counter < 17) {\n//           result += characters.charAt(\n//             Math.floor(Math.random() * charactersLength)\n//           );\n//           counter += 1;\n//         }\n\n//         loginData[\"token\"] = result;\n\n//         localStorage.setItem(\"logindata\", JSON.stringify(loginData));\n\n//         navigate(\"/transaction\");\n//       }\n//     }\n\n//   }, [error]);\n//   return (\n//     <>\n//       <div className=\"form\">\n//         <h2>Login Form</h2>\n//         <form onSubmit={submitHandler} method=\"POST\">\n//           <label className=\"label\">Email:</label>\n//           <input\n//             type=\"email\"\n//             name=\"email\"\n//             className=\"inputFields\"\n//             value={loginData.email}\n//             onChange={(e) => hasChange(e)}\n//           ></input>\n//           <span>{error.email}</span>\n//           <br></br>\n//           <label className=\"label\">Password:</label>\n//           <input\n//             type=\"password\"\n//             name=\"password\"\n//             className=\"pswFields\"\n//             value={loginData.password}\n//             onChange={(e) => hasChange(e)}\n//           ></input>\n//           <span>{error.password}</span>\n//           <span>{error.login}</span>\n//           <br></br>\n//           <button type=\"submit\" className=\"ViewBtn\">\n//             Submit\n//           </button>\n//           <br></br>\n//         </form>\n//         <Link to={\"/create\"} className=\"loginBtn\">\n//           Login\n//         </Link>\n//       </div>\n//     </>\n//   );\n// };\n\n// export default Login;","map":{"version":3,"names":[],"sources":["/home/meet-vaghasiya/reactPractice/khatabook/src/components/Login.jsx"],"sourcesContent":["// import \"./Registration.css\";\n\n// import React from \"react\";\n// import { Link, useNavigate } from \"react-router-dom\";\n// import { useState } from \"react\";\n// import { useEffect } from \"react\";\n\n// const Login = () => {\n//   const registrationData = JSON.parse(localStorage.getItem(\"registration\"));\n\n//   const navigate = useNavigate();\n//   const [loginData, setRegData] = useState({\n//     email: \"\",\n//     password: \"\",\n//   });\n\n//   const [error, setError] = useState({});\n//   const [issubmit, setIsSubmit] = useState(false);\n\n//   const hasChange = (e) => {\n//     const { name, value } = e.target;\n\n//     setRegData((prev) => {\n//       return { ...prev, [name]: value };\n//     });\n//     console.log(loginData);\n\n//     setError(validate(loginData));\n//   };\n\n//   const validate = (loginData) => {\n//     const error = {};\n//     console.log(loginData);\n//     const regex = /^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$/;\n\n//     if (!regex.test(loginData[\"email\"])) {\n//       error.email = \"email is required\";\n//     }\n\n//     if (loginData[\"password\"].length <= 4) {\n//       error.password = \"password is required\";\n//     } else {\n//       for (const key in registrationData) {\n//         if (\n//           registrationData[key].email !== loginData.email ||\n//           registrationData[key].password !== loginData.password\n//         ) {\n//           error.login = \"email & password is not correct\";\n//           break;\n//         }\n//       }\n//     }\n//     return error;\n//   };\n\n//   const submitHandler = (e) => {\n//     e.preventDefault();\n//     hasChange(e);\n//     console.log(loginData);\n//     setIsSubmit(true);\n\n\n//   };\n\n//   useEffect(() => {\n//     if (Object.keys(error).length === 0) {\n//       console.log(\"keyyyyyyyyyyyyyyy\")\n//       let flag = false;\n//       for (const key in registrationData) {\n//         if (\n//           registrationData[key].email === loginData.email ||\n//           registrationData[key].password === loginData.password\n//         ) {\n//           flag = true;\n//           break;\n//         }\n//       }\n\n//       if (flag === true) {\n//         let result = \"\";\n//         const characters =\n//           \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n//         const charactersLength = characters.length;\n//         let counter = 0;\n//         while (counter < 17) {\n//           result += characters.charAt(\n//             Math.floor(Math.random() * charactersLength)\n//           );\n//           counter += 1;\n//         }\n\n//         loginData[\"token\"] = result;\n\n//         localStorage.setItem(\"logindata\", JSON.stringify(loginData));\n\n//         navigate(\"/transaction\");\n//       }\n//     }\n    \n//   }, [error]);\n//   return (\n//     <>\n//       <div className=\"form\">\n//         <h2>Login Form</h2>\n//         <form onSubmit={submitHandler} method=\"POST\">\n//           <label className=\"label\">Email:</label>\n//           <input\n//             type=\"email\"\n//             name=\"email\"\n//             className=\"inputFields\"\n//             value={loginData.email}\n//             onChange={(e) => hasChange(e)}\n//           ></input>\n//           <span>{error.email}</span>\n//           <br></br>\n//           <label className=\"label\">Password:</label>\n//           <input\n//             type=\"password\"\n//             name=\"password\"\n//             className=\"pswFields\"\n//             value={loginData.password}\n//             onChange={(e) => hasChange(e)}\n//           ></input>\n//           <span>{error.password}</span>\n//           <span>{error.login}</span>\n//           <br></br>\n//           <button type=\"submit\" className=\"ViewBtn\">\n//             Submit\n//           </button>\n//           <br></br>\n//         </form>\n//         <Link to={\"/create\"} className=\"loginBtn\">\n//           Login\n//         </Link>\n//       </div>\n//     </>\n//   );\n// };\n\n// export default Login;\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}